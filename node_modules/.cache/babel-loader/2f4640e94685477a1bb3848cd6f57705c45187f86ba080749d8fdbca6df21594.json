{"ast":null,"code":"var _jsxFileName = \"/persistent/home/guddy/code/project/client/src/pages/Analytics.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport LoadingSpinner from \"../components/common/LoadingSpinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AnalyticsContainer = styled.div`\n  padding: 2rem;\n`;\n_c = AnalyticsContainer;\nconst Title = styled.h1`\n  font-size: 2rem;\n  color: ${({\n  theme\n}) => theme.colors.textPrimary};\n  margin-bottom: 1rem;\n`;\n_c2 = Title;\nconst ChartContainer = styled.div`\n  margin-bottom: 2rem;\n`;\n_c3 = ChartContainer;\nconst EmailList = styled.ul`\n  list-style: none;\n  padding: 0;\n`;\n_c4 = EmailList;\nconst EmailListItem = styled.li`\n  background: ${({\n  theme\n}) => theme.colors.surface};\n  border: 1px solid ${({\n  theme\n}) => theme.colors.border};\n  border-radius: ${({\n  theme\n}) => theme.borderRadius.md};\n  padding: 1rem;\n  margin-bottom: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n_c5 = EmailListItem;\nconst EmailSubject = styled.div`\n  font-weight: 500;\n`;\n_c6 = EmailSubject;\nconst EmailCategory = styled.div`\n  background: ${({\n  theme\n}) => theme.colors.primary};\n  color: white;\n  padding: 0.25rem 0.5rem;\n  border-radius: ${({\n  theme\n}) => theme.borderRadius.sm};\n  font-size: 0.8rem;\n`;\n_c7 = EmailCategory;\nconst Analytics = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n          setError(\"No token found\");\n          setLoading(false);\n          return;\n        }\n        const config = {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        };\n        const response = await axios.get(\"/api/emails/analyze\", config);\n        setData(response.data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      text: \"Analyzing your emails...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 12\n    }, this);\n  }\n  const categoryCounts = data.reduce((acc, email) => {\n    acc[email.category] = (acc[email.category] || 0) + 1;\n    return acc;\n  }, {});\n  return /*#__PURE__*/_jsxDEV(AnalyticsContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"Email Analysis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChartContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Category Breakdown\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: Object.entries(categoryCounts).map(([category, count]) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [category, \": \", count]\n        }, category, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Email List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EmailList, {\n      children: data.map(email => /*#__PURE__*/_jsxDEV(EmailListItem, {\n        children: [/*#__PURE__*/_jsxDEV(EmailSubject, {\n          children: email.subject\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EmailCategory, {\n          children: email.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, email.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(Analytics, \"C4fiAW6C7RZgaKDoEXQgZpbuUZg=\");\n_c8 = Analytics;\nexport default Analytics;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"AnalyticsContainer\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"ChartContainer\");\n$RefreshReg$(_c4, \"EmailList\");\n$RefreshReg$(_c5, \"EmailListItem\");\n$RefreshReg$(_c6, \"EmailSubject\");\n$RefreshReg$(_c7, \"EmailCategory\");\n$RefreshReg$(_c8, \"Analytics\");","map":{"version":3,"names":["React","useState","useEffect","axios","styled","LoadingSpinner","jsxDEV","_jsxDEV","AnalyticsContainer","div","_c","Title","h1","theme","colors","textPrimary","_c2","ChartContainer","_c3","EmailList","ul","_c4","EmailListItem","li","surface","border","borderRadius","md","_c5","EmailSubject","_c6","EmailCategory","primary","sm","_c7","Analytics","_s","data","setData","loading","setLoading","error","setError","fetchData","token","localStorage","getItem","config","headers","Authorization","response","get","err","message","text","fileName","_jsxFileName","lineNumber","columnNumber","children","categoryCounts","reduce","acc","email","category","Object","entries","map","count","subject","id","_c8","$RefreshReg$"],"sources":["/persistent/home/guddy/code/project/client/src/pages/Analytics.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport LoadingSpinner from \"../components/common/LoadingSpinner\";\n\nconst AnalyticsContainer = styled.div`\n  padding: 2rem;\n`;\n\nconst Title = styled.h1`\n  font-size: 2rem;\n  color: ${({ theme }) => theme.colors.textPrimary};\n  margin-bottom: 1rem;\n`;\n\nconst ChartContainer = styled.div`\n  margin-bottom: 2rem;\n`;\n\nconst EmailList = styled.ul`\n  list-style: none;\n  padding: 0;\n`;\n\nconst EmailListItem = styled.li`\n  background: ${({ theme }) => theme.colors.surface};\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.md};\n  padding: 1rem;\n  margin-bottom: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst EmailSubject = styled.div`\n  font-weight: 500;\n`;\n\nconst EmailCategory = styled.div`\n  background: ${({ theme }) => theme.colors.primary};\n  color: white;\n  padding: 0.25rem 0.5rem;\n  border-radius: ${({ theme }) => theme.borderRadius.sm};\n  font-size: 0.8rem;\n`;\n\nconst Analytics = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n          setError(\"No token found\");\n          setLoading(false);\n          return;\n        }\n        const config = { headers: { Authorization: `Bearer ${token}` } };\n        const response = await axios.get(\"/api/emails/analyze\", config);\n        setData(response.data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return <LoadingSpinner text=\"Analyzing your emails...\" />;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  const categoryCounts = data.reduce((acc, email) => {\n    acc[email.category] = (acc[email.category] || 0) + 1;\n    return acc;\n  }, {});\n\n  return (\n    <AnalyticsContainer>\n      <Title>Email Analysis</Title>\n\n      <ChartContainer>\n        <h2>Category Breakdown</h2>\n        <ul>\n          {Object.entries(categoryCounts).map(([category, count]) => (\n            <li key={category}>\n              {category}: {count}\n            </li>\n          ))}\n        </ul>\n      </ChartContainer>\n\n      <h2>Email List</h2>\n      <EmailList>\n        {data.map((email) => (\n          <EmailListItem key={email.id}>\n            <EmailSubject>{email.subject}</EmailSubject>\n            <EmailCategory>{email.category}</EmailCategory>\n          </EmailListItem>\n        ))}\n      </EmailList>\n    </AnalyticsContainer>\n  );\n};\n\nexport default Analytics;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}